<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dome Tents - Wilderness Essentials UK</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <header class="site-header">
    <a id="homeLogoLink" href="../index.html">
      <img src="../logo.jpg" alt="Wilderness Essentials UK" class="logo-img" id="logo">
    </a>
    <div id="siteIntro">
      Wilderness Essentials UK
      <span>Your Definitive Guide to the UK's Hottest Selling Camping Gear.</span>
    </div>
    <nav class="megabar" aria-label="Main Navigation">
      <ul id="megabarMenu" class="megabar-menu"></ul>
    </nav>
  </header>

  <div class="category-intro">
    <h1>Dome Tents</h1>
    <p>
      Discover our selection of dome tents, designed for quick setup and superior stability. 
      Perfect for camping adventures in all weather conditions. 
      Browse top-selling models and find the ideal shelter for your next outdoor trip.
    </p>
  </div>

  <div id="productsGrid"></div>

  <footer id="siteFooter">
    &copy; 2025 Wilderness Essentials UK &bull; All Rights Reserved.
  </footer>

  <script src="../script.js"></script>
  <script>
    // --- Only show the products for this subcategory ---
    document.addEventListener('DOMContentLoaded', async function () {
      // Wait for products to load if script.js is asynchronous
      if (typeof fetchProductsFromSheet === 'function') {
        await fetchProductsFromSheet();
      }
      // Setup menu (again, in case not already built)
      if (typeof buildWPStyleMegaMenu === 'function') {
        buildWPStyleMegaMenu();
      }
      // Render only the correct products
      const grid = document.getElementById('productsGrid');
      const catPath = "Tents > Dome Tents"; // Adjust for each category page!
      grid.innerHTML = '';
      let filtered = [];
      if (typeof allProducts !== "undefined" && allProducts.length) {
        filtered = allProducts.filter(p => p.category === catPath);
      }
      if (!filtered.length) {
        grid.innerHTML = `<div style="grid-column: 1 / -1; text-align: center; color: #888;">No products found for this category.</div>`;
      } else {
        filtered.forEach(p => {
          grid.appendChild(makeProductCard(p));
        });
      }
    });
  </script>
</body>
</html>
